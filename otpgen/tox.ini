[tox]
envlist = py39,py310,py311,py312
isolated_build = True
minversion = 4.0

[testenv]
passenv =
    OTPGEN_PASSWORD
    DYLD_LIBRARY_PATH
    LD_LIBRARY_PATH
    WITH_QR
    CI
deps =
    pytest>=7.0.0
    pytest-cov>=4.1.0
    pyotp>=2.6.0
    cryptography>=3.4.8
    pillow>=8.3.2
    pyzbar>=0.1.8
    pyperclip>=1.8.2
    requests>=2.25.1
    qrcode>=7.4.2
    pypng
commands =
    python -m pip install -e .
    pytest test_otpgen.py -v {posargs}

[testenv:py39]
basepython = python3.9

[testenv:py310]
basepython = python3.10

[testenv:py311]
basepython = python3.11

[testenv:py312]
basepython = python3.12

[flake8]
max-line-length = 100